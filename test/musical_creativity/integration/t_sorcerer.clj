(ns musical-creativity.integration.t-sorcerer
  (:require
   [midje.sweet :refer :all]
   [musical-creativity.allusion.sorcerer :refer :all]))

(fact "allude"
  (sorcerer 'bach-1 '(beet-2)) => '((0 71 500 1 64) (0 77 500 0 64) (500 74 500 1 64) (500 82 1500 0 64) (1000 78 500 1 64) (1500 83 1000 1 64) (2000 81 250 0 64) (2250 82 250 0 64) (2500 81 500 1 64) (2500 84 500 0 64) (3000 83 1000 1 64) (3000 82 500 0 64))

  (sorcerer 'chopin-1 *choices*) => '((0 59 1000 1 64) (0 60 1000 9 64) (0 58 2000 8 64) (0 81 250 7 64) (0 77 500 6 64) (0 55 750 5 64) (0 52 500 4 64) (0 69 500 3 64)
                                      (0 64 250 2 64) (0 71 500 1 64) (0 59 1000 0 64) (250 80 250 7 64) (250 67 250 2 64) (500 81 250 7 64) (500 82 1500 6 64) (500 57 500 4 64)
                                      (500 62 500 3 64) (500 71 250 2 64) (500 74 500 1 64) (750 83 250 7 64) (750 55 250 5 64) (750 76 250 2 64) (1000 64 1500 1 64) (1000 65 2500 9 64)
                                      (1000 81 500 7 64) (1000 55 2000 5 64) (1000 60 500 4 64) (1000 65 500 3 64) (1000 75 250 2 64) (1000 78 500 1 64) (1000 64 1500 0 64)
                                      (1250 76 250 2 64) (1500 64 500 4 64) (1500 69 500 3 64) (1500 83 1000 1 64) (2000 63 1000 8 64) (2000 81 250 6 64) (2000 69 500 4 64)
                                      (2000 74 500 3 64) (2250 82 250 6 64) (2500 63 500 1 64) (2500 84 500 6 64) (2500 68 500 4 64) (2500 76 500 3 64) (2500 81 500 1 64)
                                      (2500 63 500 0 64) (3000 64 500 1 64) (3000 62 1000 8 64) (3000 82 500 6 64) (3000 60 750 5 64) (3000 69 500 4 64) (3000 83 1000 1 64)
                                      (3000 64 500 0 64) (3500 67 500 1 64) (3500 64 500 9 64) (3500 59 500 4 64) (3500 67 500 0 64) (3750 59 250 5 64) (4000 71 1000 1 64)
                                      (4000 65 500 9 64) (4000 63 1000 8 64) (4000 60 750 5 64) (4000 71 1000 0 64) (4500 69 500 9 64) (4750 62 250 5 64) (5000 71 1000 1 64)
                                      (5000 72 1000 9 64) (5000 66 1000 8 64) (5000 71 1000 0 64) (6000 71 1000 1 64) (6000 77 2000 9 64) (6000 70 1000 8 64) (6000 71 1000 0 64)
                                      (7000 76 1000 1 64) (7000 70 3000 8 64) (7000 76 1000 0 64) (8000 75 500 1 64) (8000 76 1000 9 64) (8000 75 500 0 64) (8500 76 500 1 64)
                                      (8500 76 500 0 64) (9000 78 750 1 64) (9000 78 750 0 64) (9750 76 250 1 64) (9750 76 250 0 64) (10000 76 1000 1 64) (10000 75 1000 8 64)
                                      (10000 76 1000 0 64) (11000 75 1000 1 64) (11000 75 1000 0 64)))
